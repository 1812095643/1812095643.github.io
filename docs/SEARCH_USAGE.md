# 全局搜索使用指南

## 快速开始

### 打开搜索框
有三种方式可以打开全局搜索：

1. **点击搜索按钮**
   - 在页面顶部导航栏右侧找到搜索图标 🔍
   - 点击即可打开搜索框

2. **使用键盘快捷键**
   - Windows/Linux: `Ctrl + K`
   - macOS: `Cmd + K`

3. **通过代码触发**
   ```javascript
   window.dispatchEvent(new CustomEvent('open-global-search'))
   ```

## 搜索模式

### 1. 普通搜索 🔍
最基础的搜索模式，直接匹配关键词。

**适用场景：**
- 精确搜索已知内容
- 快速查找特定页面

**示例：**
```
输入: "首页"
结果: 首页、关于首页的内容
```

### 2. 模糊搜索 ✨
使用 Fuse.js 实现的智能模糊匹配，容错率高。

**适用场景：**
- 不确定准确关键词
- 拼写可能有误
- 想要更宽泛的结果

**示例：**
```
输入: "xiangmu"
结果: 项目作品、相关项目
```

### 3. 拼音搜索 🔤
支持拼音首字母和全拼搜索中文内容。

**适用场景：**
- 使用拼音输入
- 快速输入中文关键词

**示例：**
```
输入: "gy" 或 "guanyu"
结果: 关于我
```

### 4. AI 搜索 🤖
智能语义理解和相关性排序。

**适用场景：**
- 需要智能推荐
- 语义相关搜索
- 多关键词组合

**示例：**
```
输入: "技术 文章"
结果: 知识博客、相关技术内容（按相关性排序）
```

## 键盘导航

### 基础操作
| 按键 | 功能 |
|------|------|
| `Ctrl/Cmd + K` | 打开搜索 |
| `Esc` | 关闭搜索 |
| `↑` | 上一个结果 |
| `↓` | 下一个结果 |
| `Enter` | 选择当前结果 |

### 高级技巧
- 连续按 `↓` 可以快速浏览所有结果
- 使用 `Shift + Tab` 可以在搜索模式间切换
- 搜索框获得焦点时，所有键盘操作都可用

## 搜索历史

### 自动保存
- 每次成功跳转后，搜索关键词会自动保存
- 最多保存 5 条最近的搜索记录
- 历史记录存储在浏览器本地

### 使用历史
1. 打开搜索框（搜索框为空时）
2. 在"最近搜索"区域查看历史记录
3. 点击任意历史记录快速填充搜索框

### 清除历史
历史记录存储在 `localStorage` 中，可以通过以下方式清除：
```javascript
localStorage.removeItem('search-history')
```

## 搜索结果

### 结果展示
每个搜索结果包含：
- **图标** - 内容类型的视觉标识
- **标题** - 内容的主标题（高亮匹配关键词）
- **描述** - 内容的简短描述（高亮匹配关键词）
- **元信息** - 类型标签、日期等

### 高亮显示
- 匹配的关键词会以**彩色背景**高亮显示
- 标题中的匹配使用**渐变色**高亮
- 描述中的匹配使用**半透明色**高亮

### 交互反馈
- **悬停效果** - 鼠标悬停时结果项会高亮并向右移动
- **选中状态** - 键盘导航选中的项会有特殊标识
- **点击反馈** - 点击时有平滑的过渡动画

## 性能优化

### 搜索防抖
- 输入时会有 150ms 的防抖延迟
- 避免频繁计算，提升性能
- 显示实际搜索耗时

### 结果缓存
- 搜索结果会被缓存
- 相同查询直接返回缓存结果
- 切换搜索模式时重新计算

## 移动端适配

### 触摸优化
- 搜索框和按钮都有足够的触摸区域
- 支持触摸滑动浏览结果
- 虚拟键盘自动弹出

### 响应式布局
- 小屏幕下搜索框宽度自适应
- 搜索模式按钮在移动端隐藏（默认使用普通搜索）
- 结果列表针对小屏幕优化

## 常见问题

### Q: 为什么搜索不到某些内容？
A: 搜索数据需要预先配置。如果是新增内容，需要在 `searchService` 中添加相应的搜索项。

### Q: 如何添加自定义搜索数据？
A: 参考以下代码：
```typescript
import { searchService } from '@/utils/searchService'

searchService.addSearchItem({
  id: 'custom-1',
  title: '自定义标题',
  description: '自定义描述',
  type: '自定义类型',
  icon: '🎯',
  route: '/custom-route',
  tags: ['tag1', 'tag2']
})
```

### Q: 搜索速度慢怎么办？
A: 
1. 检查搜索数据量是否过大
2. 考虑使用服务端搜索
3. 优化搜索数据结构
4. 增加防抖延迟时间

### Q: 如何自定义搜索样式？
A: 修改 `GlobalSearch.vue` 中的 CSS 变量和样式类。

## 最佳实践

### 搜索关键词建议
- 使用简短、精确的关键词
- 尝试不同的搜索模式
- 利用拼音搜索提高效率

### 内容组织建议
- 为搜索项添加丰富的标签
- 描述要简洁明了
- 使用有意义的图标

### 性能建议
- 定期清理不需要的搜索数据
- 对大量数据使用分页或虚拟滚动
- 考虑实现搜索结果预加载

## 开发者指南

### 监听搜索事件
```javascript
// 监听搜索打开
window.addEventListener('open-global-search', () => {
  console.log('搜索已打开')
})

// 监听搜索关闭
window.addEventListener('close-global-search', () => {
  console.log('搜索已关闭')
})
```

### 程序化控制
```javascript
// 打开搜索
window.dispatchEvent(new CustomEvent('open-global-search'))

// 关闭搜索
window.dispatchEvent(new CustomEvent('close-global-search'))
```

### 扩展搜索功能
可以通过修改 `GlobalSearch.vue` 来扩展功能：
- 添加新的搜索模式
- 自定义搜索算法
- 集成第三方搜索服务
- 添加搜索分析统计

## 更新日志

### v1.0.0 (当前版本)
- ✅ 基础搜索功能
- ✅ 四种搜索模式
- ✅ 键盘快捷键
- ✅ 搜索历史
- ✅ 结果高亮
- ✅ 响应式设计
- ✅ 动画效果

### 计划中的功能
- 🔄 搜索建议和自动完成
- 🔄 搜索结果分类
- 🔄 语音搜索
- 🔄 搜索统计分析
- 🔄 多语言优化

## 技术支持

如有问题或建议，请：
1. 查看项目文档
2. 提交 Issue
3. 联系开发团队

---

**享受搜索的乐趣！** 🎉
